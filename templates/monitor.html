{% extends "nav-bar.html" %}

{% block title %} Atomic Odyssey {%endblock%}
{% block mastery %} {{mastery}} {%endblock%}
{% block level %} {{level}} {%endblock%}

{% block content%}
    
    <head>
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/monitor.css') }}">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
        <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@300&family=Nunito:wght@300&family=Outfit:wght@300&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">
        <script src="https://cdn.plot.ly/plotly-2.31.1.min.js" charset="utf-8"></script>
        <title>Monitor</title>        
    </head>
    <body>
        <div class="leaderboards">
            <h1>
                Leaderboards by Mastery
            </h1>
            <div class="leads">
                <h1>Name</h1>
                <h1>Mastery</h1>
            </div>
        </div>
        
        
        <script>
            average = {{avg|tojson}};
            console.log(average["leadbymastery"]);
            average["leadbymastery"].sort(function(a,b){return  b["mastery"] - a["mastery"]  });
            for(const i of average["leadbymastery"]){
                document.getElementsByClassName("leaderboards")[0].innerHTML +=  `<div class="leads">
                <span>${i["name"]}</span>
                <span>${i["mastery"]}</span>
            </div>`        
            }

        </script>
    </body>
{% endblock %}